# Ticketless Entry System Setup Guide

このシステムは、GoogleスプレッドシートとGoogle Apps Script (GAS) を使用して動作します。

## セットアップ手順

1.  **スプレッドシートの作成**:
    *   新しいGoogleスプレッドシートを作成します。
    *   メニューから `拡張機能` > `Apps Script` を開きます。

2.  **コードの配置**:
    *   **Code.gs**: エディタの `コード.gs` (または `Code.gs`) に、提供された `Code.gs` の内容を貼り付けます。
    *   **index.html**: ファイルの追加 (+) から `HTML` を選択し、`index.html` という名前で作成します。提供された `index.html` の内容を貼り付けます。

3.  **初期設定**:
    *   `Code.gs` 内の `setupSheet` 関数を選択し、「実行」ボタンを押します。
    *   権限の承認を求められたら、許可してください。
    *   スプレッドシートに `Attendees` というシートが作成され、ヘッダー行が追加されます。

4.  **データの準備**:
    *   `Attendees` シートにテストデータを入力します。
    *   `Name` (B列) と `Email` (C列) を入力してください。他の列は空欄で構いません。

5.  **メール送信テスト**:
    *   `Code.gs` 内の `sendTicketEmails` 関数を実行します。
    *   メールが届き、シートの `Token`, `EmailSent` 列が埋まっていることを確認します。

6.  **Webアプリのデプロイ**:
    *   GASエディタ右上の「デプロイ」 > 「新しいデプロイ」を選択。
    *   **種類の選択**: 「ウェブアプリ」
    *   **説明**: "v1" など
    *   **次のユーザーとして実行**: 「自分」
    *   **アクセスできるユーザー**: 「全員」 (または組織内のみ)
    *   「デプロイ」をクリックし、発行された **ウェブアプリのURL** をコピーします。

7.  **動作確認**:
    *   スマホでウェブアプリのURLを開きます。
    *   カメラの許可を求められたら許可します。
    *   メールで届いたQRコード（またはPC画面に表示させたQRコード）をスキャンします。
    *   「チェックイン完了」と表示されれば成功です。
